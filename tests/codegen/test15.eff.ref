type foo = A | B of bar

and bar = { x : foo }

type (_, _) eff_internal_effect += Op1 : (int, bar) eff_internal_effect

type (_, _) eff_internal_effect += Op2 : (bar, foo) eff_internal_effect

type (_, _) eff_internal_effect += Op3 : (foo, int) eff_internal_effect

;;
fun (_a_46 : int) ->
  Call
    ( Op1,
      10,
      fun (_y_67 : bar) ->
        Call
          ( Op2,
            _y_67,
            fun (_y_69 : foo) ->
              Call (Op3, _y_69, fun (_y_70 : int) -> Value (_a_46 + _y_70)) ) )
