type foo = A | B of bar

and bar = { x : foo }

type (_, _) eff_internal_effect += Op1 : (int, bar) eff_internal_effect

type (_, _) eff_internal_effect += Op2 : (bar, foo) eff_internal_effect

type (_, _) eff_internal_effect += Op3 : (foo, int) eff_internal_effect

;;
fun (_a_42 : int) ->
  Call
    ( Op1,
      10,
      fun (_y_63 : bar) ->
        Call
          ( Op2,
            _y_63,
            fun (_y_65 : foo) ->
              Call (Op3, _y_65, fun (_y_66 : int) -> Value (_a_42 + _y_66)) ) )
