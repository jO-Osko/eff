external ( = ) : int -> int -> bool = "="
external ( < ) : int -> int -> bool = "<"
external ( - ) : int -> int -> int = "-"

(******************************************************************************)

effect Fail : unit -> empty;;

let test_latent n =
  let rec loop_latent n =
      if n = 0
      then ()
      else
        if n < 0
        then (match perform (Fail ()) with)
        else loop_latent (n - 1)
  in loop_latent n
in test_latent 10000
